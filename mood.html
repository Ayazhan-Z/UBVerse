<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Campus Mood Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">

</head>
<body>

  <!-- Navbar -->
  <div class="topnav">
    <div class="topnav-content">
      <div class="nav-left">
        <img src="ub.webp" alt="UB Logo" class="logo">
        <span class="logo-text">UB International</span>
      </div>
      <div class="nav-right">
        <a href="homepage.html">Home</a>
        <a href="translator.html">Translator</a>
        <a href="map.html">Map</a>
        <a href="region.html">Region Matcher</a>
        <a class="active" href="mood.html">Mood Tracker</a>
      </div>
    </div>
  </div>

  <!-- Page Header -->
  <div class="page-header">
    <h1>â¤ï¸ Campus Mood Tracker</h1>
    <p>Share how you're feeling today and see the collective campus vibe</p>
  </div>

  <!-- Mood Selection -->
  <div class="mood-section">
    <h2>How are you feeling today?</h2>
    <div class="mood-buttons">
      <button data-mood="Amazing">ğŸ˜<br>Amazing</button>
      <button data-mood="Good">ğŸ˜Š<br>Good</button>
      <button data-mood="Okay">ğŸ˜<br>Okay</button>
      <button data-mood="Not Great">ğŸ˜•<br>Not Great</button>
      <button data-mood="Tough">ğŸ˜¢<br>Tough</button>
    </div>
  </div>

  <!-- Mood Summary -->
  <div class="summary-section">
    <h3>Campus Mood Today</h3>
    <p>Overall moods based on submissions:</p>
    <div class="summary-bar"><div id="amazing-bar" style="width:0%;background-color:#28a745;">0%</div></div>
    <div class="summary-bar"><div id="good-bar" style="width:0%;background-color:#17a2b8;">0%</div></div>
    <div class="summary-bar"><div id="okay-bar" style="width:0%;background-color:#ffc107;">0%</div></div>
    <div class="summary-bar"><div id="notgreat-bar" style="width:0%;background-color:#fd7e14;">0%</div></div>
    <div class="summary-bar"><div id="tough-bar" style="width:0%;background-color:#dc3545;">0%</div></div>
    <div class="mood-comment" id="mood-comment"></div>
  </div>

<script>
  const buttons = document.querySelectorAll('.mood-buttons button');

  // Initialize mood counts from localStorage or default
  let moodCounts = JSON.parse(localStorage.getItem('campusMood')) || {
    Amazing: 0,
    Good: 0,
    Okay: 0,
    "Not Great": 0,
    Tough: 0
  };

  function updateSummary() {
    const total = Object.values(moodCounts).reduce((a,b)=>a+b,0) || 1;
    document.getElementById('amazing-bar').style.width = ((moodCounts.Amazing/total)*100) + '%';
    document.getElementById('amazing-bar').textContent = Math.round((moodCounts.Amazing/total)*100)+'%';
    document.getElementById('good-bar').style.width = ((moodCounts.Good/total)*100) + '%';
    document.getElementById('good-bar').textContent = Math.round((moodCounts.Good/total)*100)+'%';
    document.getElementById('okay-bar').style.width = ((moodCounts.Okay/total)*100) + '%';
    document.getElementById('okay-bar').textContent = Math.round((moodCounts.Okay/total)*100)+'%';
    document.getElementById('notgreat-bar').style.width = ((moodCounts["Not Great"]/total)*100) + '%';
    document.getElementById('notgreat-bar').textContent = Math.round((moodCounts["Not Great"]/total)*100)+'%';
    document.getElementById('tough-bar').style.width = ((moodCounts.Tough/total)*100) + '%';
    document.getElementById('tough-bar').textContent = Math.round((moodCounts.Tough/total)*100)+'%';

    // Mood comment
    let maxMood = Object.keys(moodCounts).reduce((a,b)=>moodCounts[a]>moodCounts[b]?a:b);
    let comment = '';
    if(maxMood==='Amazing') comment = "Campus is going amazing! ğŸ‰";
    else if(maxMood==='Good') comment = "Campus is doing well ğŸ™‚";
    else if(maxMood==='Okay') comment = "Campus feels okay ğŸ˜";
    else if(maxMood==='Not Great') comment = "Some students are struggling ğŸ˜•";
    else comment = "Campus is having a tough day ğŸ˜¢";
    document.getElementById('mood-comment').textContent = comment;
  }

  updateSummary();

  // Handle mood button click
  buttons.forEach(button => {
    button.addEventListener('click', () => {
      const mood = button.getAttribute('data-mood');
      moodCounts[mood]++;
      localStorage.setItem('campusMood', JSON.stringify(moodCounts));
      updateSummary();

      // Highlight selected button briefly
      buttons.forEach(b=>b.classList.remove('selected'));
      button.classList.add('selected');
      setTimeout(()=>button.classList.remove('selected'), 500);
    });
  });
</script>

</body>
</html>



